---
layout: post
title: Oracle Sql小技巧(二)
category: oracle
keywords: oracle,sql,技巧
---

## 隐式转换

隐式转换不需要我们为为参与，但是理解隐式转换，会帮助我们优化SQL。因为隐式转换是我们要尽量避免的。
隐式转换可以在字符，日期，数值间互相转换；除数字与日期间不能转换外，都可以实现转换。
在CBO成本运算评估阶段发现不同类型的比较Oracle将会进行隐式转换，都将字符转换为数值或日期。也就是说，如果我们Sql条件表达式中，左右两边的类型不一致，就会发生隐式转换，隐式转换是发生在执行Sql前的，甚至是优化器优化之前转换的。
因为隐式转换都是从字符类型转换成其它类型的比如：

- a = 5

假如a是一个varchar2类型，表达式会被转换成to_number(a)=5,所以a被包装了(这里要注意，当字段上有索引的时候，如果像这样发生隐式转换，字段被套上一个函数，这样的话索引就不会被使用了)。所以隐式转换可能会造成很大的性能影响。正确的写法应该是：

- a = '5'

我们写Sql时，尽量要避免隐式转换，除了考虑到影响索引外，同时隐式转换还多执行了一个函数。

